
<!DOCTYPE html>

<html class="no-js" lang="en">
<head>
<meta charset="utf-8"/>
<meta content="width=device-width,initial-scale=1" name="viewport"/>
<link href="../../images/uwa.png" rel="icon"/>
<meta content="mkdocs-1.2.3, mkdocs-material-7.3.4" name="generator"/>
<title>Automated Testing - CITS3200 Project Team 18</title>
<link href="../../assets/stylesheets/main.db9e7362.min.css" rel="stylesheet"/>
<link href="../../assets/stylesheets/palette.3f5d1f46.min.css" rel="stylesheet"/>
<link crossorigin="" href="https://fonts.gstatic.com" rel="preconnect"/>
<link href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700%7CRoboto+Mono&amp;display=fallback" rel="stylesheet"/>
<style>:root{--md-text-font-family:"Roboto";--md-code-font-family:"Roboto Mono"}</style>
</head>
<body data-md-color-accent="" data-md-color-primary="indigo" data-md-color-scheme="default" dir="ltr">
<script>function __prefix(e){return new URL("../..",location).pathname+"."+e}function __get(e,t=localStorage){return JSON.parse(t.getItem(__prefix(e)))}</script>
<script>var palette=__get("__palette");if(null!==palette&&"object"==typeof palette.color)for(var key in palette.color)document.body.setAttribute("data-md-color-"+key,palette.color[key])</script>
<input autocomplete="off" class="md-toggle" data-md-toggle="drawer" id="__drawer" type="checkbox"/>
<input autocomplete="off" class="md-toggle" data-md-toggle="search" id="__search" type="checkbox"/>
<label class="md-overlay" for="__drawer"></label>
<div data-md-component="skip">
<a class="md-skip" href="#automated-testing">
          Skip to content
        </a>
</div>
<div data-md-component="announce">
</div>
<header class="md-header" data-md-component="header">
<nav aria-label="Header" class="md-header__inner md-grid">
<a aria-label="CITS3200 Project Team 18" class="md-header__button md-logo" data-md-component="logo" href="../.." title="CITS3200 Project Team 18">
<img alt="logo" src="../../images/uwa.png"/>
</a>
<label class="md-header__button md-icon" for="__drawer">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2z"></path></svg>
</label>
<div class="md-header__title" data-md-component="header-title">
<div class="md-header__ellipsis">
<div class="md-header__topic">
<span class="md-ellipsis">
            CITS3200 Project Team 18
          </span>
</div>
<div class="md-header__topic" data-md-component="header-topic">
<span class="md-ellipsis">
            
              Automated Testing
            
          </span>
</div>
</div>
</div>
<form class="md-header__option" data-md-component="palette">
<input aria-label="Switch to dark mode" class="md-option" data-md-color-accent="" data-md-color-media="(prefers-color-scheme: light)" data-md-color-primary="indigo" data-md-color-scheme="default" id="__palette_1" name="__palette" type="radio"/>
<label class="md-header__button md-icon" for="__palette_2" hidden="" title="Switch to dark mode">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M17 6H7c-3.31 0-6 2.69-6 6s2.69 6 6 6h10c3.31 0 6-2.69 6-6s-2.69-6-6-6zm0 10H7c-2.21 0-4-1.79-4-4s1.79-4 4-4h10c2.21 0 4 1.79 4 4s-1.79 4-4 4zM7 9c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3z"></path></svg>
</label>
<input aria-label="Switch to light mode" class="md-option" data-md-color-accent="" data-md-color-media="(prefers-color-scheme: dark)" data-md-color-primary="indigo" data-md-color-scheme="slate" id="__palette_2" name="__palette" type="radio"/>
<label class="md-header__button md-icon" for="__palette_1" hidden="" title="Switch to light mode">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M17 7H7a5 5 0 0 0-5 5 5 5 0 0 0 5 5h10a5 5 0 0 0 5-5 5 5 0 0 0-5-5m0 8a3 3 0 0 1-3-3 3 3 0 0 1 3-3 3 3 0 0 1 3 3 3 3 0 0 1-3 3z"></path></svg>
</label>
</form>
<label class="md-header__button md-icon" for="__search">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"></path></svg>
</label>
<div class="md-search" data-md-component="search" role="dialog">
<label class="md-search__overlay" for="__search"></label>
<div class="md-search__inner" role="search">
<form class="md-search__form" name="search">
<input aria-label="Search" autocapitalize="off" autocomplete="off" autocorrect="off" class="md-search__input" data-md-component="search-query" name="query" placeholder="Search" required="" spellcheck="false" type="text"/>
<label class="md-search__icon md-icon" for="__search">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"></path></svg>
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"></path></svg>
</label>
<nav aria-label="Search" class="md-search__options">
<button aria-label="Clear" class="md-search__icon md-icon" tabindex="-1" type="reset">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z"></path></svg>
</button>
</nav>
</form>
<div class="md-search__output">
<div class="md-search__scrollwrap" data-md-scrollfix="">
<div class="md-search-result" data-md-component="search-result">
<div class="md-search-result__meta">
            Initializing search
          </div>
<ol class="md-search-result__list"></ol>
</div>
</div>
</div>
</div>
</div>
<div class="md-header__source">
<a class="md-source" data-md-component="source" href="https://github.com/UWA-CITS3200-18-2021/cits3200-project/" title="Go to repository">
<div class="md-source__icon md-icon">
<svg viewbox="0 0 448 512" xmlns="http://www.w3.org/2000/svg"><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"></path></svg>
</div>
<div class="md-source__repository">
    GitHub
  </div>
</a>
</div>
</nav>
</header>
<div class="md-container" data-md-component="container">
<nav aria-label="Tabs" class="md-tabs" data-md-component="tabs">
<div class="md-tabs__inner md-grid">
<ul class="md-tabs__list">
<li class="md-tabs__item">
<a class="md-tabs__link" href="../..">
      Overview
    </a>
</li>
<li class="md-tabs__item">
<a class="md-tabs__link" href="../../user/">
        User
      </a>
</li>
<li class="md-tabs__item">
<a class="md-tabs__link" href="../../administrator/">
        Administrator
      </a>
</li>
<li class="md-tabs__item">
<a class="md-tabs__link md-tabs__link--active" href="../">
        Developer
      </a>
</li>
</ul>
</div>
</nav>
<main class="md-main" data-md-component="main">
<div class="md-main__inner md-grid">
<div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation">
<div class="md-sidebar__scrollwrap">
<div class="md-sidebar__inner">
<nav aria-label="Navigation" class="md-nav md-nav--primary md-nav--lifted" data-md-level="0">
<label class="md-nav__title" for="__drawer">
<a aria-label="CITS3200 Project Team 18" class="md-nav__button md-logo" data-md-component="logo" href="../.." title="CITS3200 Project Team 18">
<img alt="logo" src="../../images/uwa.png"/>
</a>
    CITS3200 Project Team 18
  </label>
<div class="md-nav__source">
<a class="md-source" data-md-component="source" href="https://github.com/UWA-CITS3200-18-2021/cits3200-project/" title="Go to repository">
<div class="md-source__icon md-icon">
<svg viewbox="0 0 448 512" xmlns="http://www.w3.org/2000/svg"><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"></path></svg>
</div>
<div class="md-source__repository">
    GitHub
  </div>
</a>
</div>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../..">
        Overview
      </a>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" data-md-toggle="__nav_2" id="__nav_2" type="checkbox"/>
<label class="md-nav__link" for="__nav_2">
          User
          <span class="md-nav__icon md-icon"></span>
</label>
<nav aria-label="User" class="md-nav" data-md-level="1">
<label class="md-nav__title" for="__nav_2">
<span class="md-nav__icon md-icon"></span>
          User
        </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../user/">
        Overview
      </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" data-md-toggle="__nav_3" id="__nav_3" type="checkbox"/>
<label class="md-nav__link" for="__nav_3">
          Administrator
          <span class="md-nav__icon md-icon"></span>
</label>
<nav aria-label="Administrator" class="md-nav" data-md-level="1">
<label class="md-nav__title" for="__nav_3">
<span class="md-nav__icon md-icon"></span>
          Administrator
        </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../administrator/">
        Oveview
      </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--active md-nav__item--nested">
<input checked="" class="md-nav__toggle md-toggle" data-md-toggle="__nav_4" id="__nav_4" type="checkbox"/>
<label class="md-nav__link" for="__nav_4">
          Developer
          <span class="md-nav__icon md-icon"></span>
</label>
<nav aria-label="Developer" class="md-nav" data-md-level="1">
<label class="md-nav__title" for="__nav_4">
<span class="md-nav__icon md-icon"></span>
          Developer
        </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../">
        Overview
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../requirements/">
        Requirements
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../coding_patterns/">
        Coding Patterns
      </a>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" data-md-toggle="__nav_4_4" id="__nav_4_4" type="checkbox"/>
<label class="md-nav__link" for="__nav_4_4">
          Frontend/Client-Side App
          <span class="md-nav__icon md-icon"></span>
</label>
<nav aria-label="Frontend/Client-Side App" class="md-nav" data-md-level="2">
<label class="md-nav__title" for="__nav_4_4">
<span class="md-nav__icon md-icon"></span>
          Frontend/Client-Side App
        </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../frontend/">
        Overview
      </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" data-md-toggle="__nav_4_5" id="__nav_4_5" type="checkbox"/>
<label class="md-nav__link" for="__nav_4_5">
          Backend/Server-side App
          <span class="md-nav__icon md-icon"></span>
</label>
<nav aria-label="Backend/Server-side App" class="md-nav" data-md-level="2">
<label class="md-nav__title" for="__nav_4_5">
<span class="md-nav__icon md-icon"></span>
          Backend/Server-side App
        </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../backend/">
        Overview
      </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--active">
<input class="md-nav__toggle md-toggle" data-md-toggle="toc" id="__toc" type="checkbox"/>
<label class="md-nav__link md-nav__link--active" for="__toc">
          Automated Testing
          <span class="md-nav__icon md-icon"></span>
</label>
<a class="md-nav__link md-nav__link--active" href="./">
        Automated Testing
      </a>
<nav aria-label="Table of contents" class="md-nav md-nav--secondary">
<label class="md-nav__title" for="__toc">
<span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
<ul class="md-nav__list" data-md-component="toc" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="#unit-testing">
    Unit Testing
  </a>
<nav aria-label="Unit Testing" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#how-to-run-unit-tests">
    How to run unit tests?
  </a>
<nav aria-label="How to run unit tests?" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#how-to-get-coverage-report">
    How to get coverage report?
  </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#unit-testing-in-pipelines">
    Unit Testing in Pipelines
  </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#allure-report-generator">
    Allure Report Generator
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#integration-testing">
    Integration Testing
  </a>
<nav aria-label="Integration Testing" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#running-tests-via-cypress-ide">
    Running Tests Via Cypress IDE
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#configuring-cypress">
    Configuring Cypress
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#writing-tests">
    Writing Tests
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#test-files-and-directory-organization">
    Test files and directory organization
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#test-results">
    Test Results
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#allure-integration-with-cypress">
    Allure Integration with Cypress
  </a>
</li>
</ul>
</nav>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../ci_pipeline/">
        CI Pipeline
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../deployment/">
        Deployment
      </a>
</li>
</ul>
</nav>
</li>
</ul>
</nav>
</div>
</div>
</div>
<div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc">
<div class="md-sidebar__scrollwrap">
<div class="md-sidebar__inner">
<nav aria-label="Table of contents" class="md-nav md-nav--secondary">
<label class="md-nav__title" for="__toc">
<span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
<ul class="md-nav__list" data-md-component="toc" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="#unit-testing">
    Unit Testing
  </a>
<nav aria-label="Unit Testing" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#how-to-run-unit-tests">
    How to run unit tests?
  </a>
<nav aria-label="How to run unit tests?" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#how-to-get-coverage-report">
    How to get coverage report?
  </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#unit-testing-in-pipelines">
    Unit Testing in Pipelines
  </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#allure-report-generator">
    Allure Report Generator
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#integration-testing">
    Integration Testing
  </a>
<nav aria-label="Integration Testing" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#running-tests-via-cypress-ide">
    Running Tests Via Cypress IDE
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#configuring-cypress">
    Configuring Cypress
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#writing-tests">
    Writing Tests
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#test-files-and-directory-organization">
    Test files and directory organization
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#test-results">
    Test Results
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#allure-integration-with-cypress">
    Allure Integration with Cypress
  </a>
</li>
</ul>
</nav>
</li>
</ul>
</nav>
</div>
</div>
</div>
<div class="md-content" data-md-component="content">
<article class="md-content__inner md-typeset">
<a class="md-content__button md-icon" href="https://github.com/UWA-CITS3200-18-2021/cits3200-project/edit/main/mkdocs/docs/developer/automated_testing.md" title="Edit this page">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M20.71 7.04c.39-.39.39-1.04 0-1.41l-2.34-2.34c-.37-.39-1.02-.39-1.41 0l-1.84 1.83 3.75 3.75M3 17.25V21h3.75L17.81 9.93l-3.75-3.75L3 17.25z"></path></svg>
</a>
<h1 id="automated-testing">Automated Testing<a class="headerlink" href="#automated-testing" title="Permanent link">¶</a></h1>
<h2 id="unit-testing">Unit Testing<a class="headerlink" href="#unit-testing" title="Permanent link">¶</a></h2>
<p>Unit testing is created using <a href="https://docs.pytest.org/en/6.2.x/">Pytest</a>. Refer documentation closely to <a href="https://pytest-flask.readthedocs.io/en/latest/">Pytest-Flask</a> for this project.</p>
<details class="info" open="open"><summary>conftest</summary><p><code>conftest.py</code> are a special file for pytest that is automatically loaded by pytest and typically contans fixtures and other setup code.</p>
</details>
<details class="info" open="open"><summary>Docker Container Running</summary><p>Make sure that you are running the docker container before doing any testing.</p>
</details>
<h3 id="how-to-run-unit-tests">How to run unit tests?<a class="headerlink" href="#how-to-run-unit-tests" title="Permanent link">¶</a></h3>
<p>Use the docker remote code execution</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span></pre></div></td><td class="code"><div class="highlight"><pre><span></span><code>docker <span class="nb">exec</span> -it resq_app pytest
</code></pre></div>
</td></tr></table>
<p>or if you want to generate the coverage data</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span></pre></div></td><td class="code"><div class="highlight"><pre><span></span><code>docker <span class="nb">exec</span> -it resq_app coverage run --source<span class="o">=</span><span class="s2">"."</span> --rcfile<span class="o">=</span>.coveragerc -m pytest
</code></pre></div>
</td></tr></table>
<details class="info" open="open"><summary>Coverage File</summary><p>This will produce a file called <code>.coverage</code> that contains the records and can be converted to reports.</p>
</details>
<details class="info" open="open"><summary>Allure Results</summary><p>Whenever you are running this tests, it will produce a folder called <code>test_results</code> that will contain results of the test. Refer below for more information about Allure.</p>
</details>
<h4 id="how-to-get-coverage-report">How to get coverage report?<a class="headerlink" href="#how-to-get-coverage-report" title="Permanent link">¶</a></h4>
<p>If you've run the tests using the above command and have <code>.coverage</code> file, you can generate the reports in multiple ways. More information in <a href="https://coverage.readthedocs.io/en/6.0.2/">here</a>.</p>
<p><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span></pre></div></td><td class="code"><div class="highlight"><pre><span></span><code>coverate report -m
</code></pre></div>
</td></tr></table>
will print the coverage report in the terminal.</p>
<p><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span></pre></div></td><td class="code"><div class="highlight"><pre><span></span><code>coverage html
</code></pre></div>
</td></tr></table>
for the html report.</p>
<details class="info" open="open"><summary>What is <code>.coveragerc</code> file?</summary><p>This file contains the configurations for the coverage testing.</p>
</details>
<h3 id="unit-testing-in-pipelines">Unit Testing in Pipelines<a class="headerlink" href="#unit-testing-in-pipelines" title="Permanent link">¶</a></h3>
<p>This was part of <a href="https://github.com/UWA-CITS3200-18-2021/ReSQ/issues/12">#12</a>, but was cut out of scope. Some artefacts of the code can be seen here.</p>
<p>One particular one is the docker <code>runtime.sh</code> that can accomodate a <code>APP_ENV=UNIT_TESTS</code> to only run unit tests inside the docker.</p>
<h2 id="allure-report-generator">Allure Report Generator<a class="headerlink" href="#allure-report-generator" title="Permanent link">¶</a></h2>
<p>Allure Testing report is used as a tool to generate test report. More information here https://docs.qameta.io/allure/</p>
<p>This repo has a file called <code>send_and_generate.py</code>. It is a simple script that sends a test report to Allure and generates a report. This is currently integrated with the <a href="https://allure.systemhealthlab.com/">UWA System Health Lab Allure Setup</a>. Documentation can be seen <a href="https://uwasystemhealth.github.io/allure_shl_setup/">here</a>.</p>
<h2 id="integration-testing">Integration Testing<a class="headerlink" href="#integration-testing" title="Permanent link">¶</a></h2>
<p>The integration tests are created with <a href="https://www.cypress.io/">Cypress</a>. This integration testing allows us to create frontend tests and obtain video or screenshots that can improve the quality of the test.</p>
<h3 id="running-tests-via-cypress-ide">Running Tests Via Cypress IDE<a class="headerlink" href="#running-tests-via-cypress-ide" title="Permanent link">¶</a></h3>
<details class="info" open="open"><summary>Installment Prerequisite</summary><ol>
<li>Install <a href="https://nodejs.org/en/download/">Nodejs</a> and NPM (should be automatically installed with Nodejs).</li>
<li>Go to <code>integration_tests</code> folder and do <code>npm install</code>. That is going to install your <code>package.json</code> packages.</li>
</ol>
</details>
<ol>
<li>In one terminal, run <code>docker-compose up</code> for running application.</li>
<li>Without closing terminal opened in 1), open a new terminal and go to <code>/integration_tests</code> and:<ul>
<li>Run <code>yarn run cypress:open</code> or</li>
<li>Run <code>npm run cypress:open</code></li>
</ul>
</li>
</ol>
<p>Note that by using this, the Cypress IDE will be running outside the docker container.</p>
<h3 id="configuring-cypress">Configuring Cypress<a class="headerlink" href="#configuring-cypress" title="Permanent link">¶</a></h3>
<p>Cypress configuration can be adjusted in the <code>cypress.json</code> file. If you want to define global varibles, this is the place to do it.
Global variables can be used in the code with <code>Cypress.env('VAR')</code>.</p>
<p>More information can be seen in the official docs https://docs.cypress.io/guides/references/configuration</p>
<h3 id="writing-tests">Writing Tests<a class="headerlink" href="#writing-tests" title="Permanent link">¶</a></h3>
<p>There are 2 ways to create tests:</p>
<ol>
<li>By writing code tests, see <a href="https://docs.cypress.io/guides/getting-started/writing-your-first-test#Write-your-first-test">Writing Test</a></li>
<li>Or by using the <a href="https://docs.cypress.io/guides/core-concepts/cypress-studio">Cypress Studio</a></li>
</ol>
<p>Cypress studio makes it easy to create test by recording the user action through the Cypress IDE. Upon action of the user, Cypress studio writes codes in the tests which could be adjusted later for flexibility.</p>
<details class="info" open="open"><summary>To use Cypress Studio Test Creation</summary><p>Firstly, you need a test suite ends with <code>.spec.js</code> in the <code>integration_tests/cypress/integration</code> folder (either newly created from a test template or existing test).</p>
<details class="example"><summary>Test Template</summary><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span>
<span class="normal">2</span>
<span class="normal">3</span>
<span class="normal">4</span>
<span class="normal">5</span>
<span class="normal">6</span>
<span class="normal">7</span>
<span class="normal">8</span>
<span class="normal">9</span></pre></div></td><td class="code"><div class="highlight"><pre><span></span><code><span class="nx">describe</span><span class="p">(</span><span class="s1">'Test Suite'</span><span class="p">,</span> <span class="p">()</span> <span class="p">=&gt;</span> <span class="p">{</span>
<span class="nx">beforeEach</span><span class="p">(()</span> <span class="p">=&gt;</span> <span class="p">{</span>
    <span class="c1">// Setup Scripts Here</span>
<span class="p">})</span>

<span class="nx">it</span><span class="p">(</span><span class="s1">'Test Name'</span><span class="p">,</span> <span class="p">()</span> <span class="p">=&gt;</span> <span class="p">{</span>
    <span class="c1">// Extend test with Cypress Studio</span>
<span class="p">})</span>
<span class="p">})</span>
</code></pre></div>
</td></tr></table>
</details>
<ol>
<li>Select a test suite in the Cypress IDE to extend</li>
<li>Hover on the test, and click the "magic wand" icon near the test</li>
<li>Interact with the Cypress Web interface as if you are the test runner</li>
<li>Save the test when you are done</li>
<li>Modify the tests created by Cypress IDE as you need</li>
</ol>
<details class="faq" open="open"><summary>Magic Wand Icon</summary><p><img alt="Magic Wand Icon" src="/images/developers/integration_testing/magic_wand.png"/></p>
</details>
</details>
<h3 id="test-files-and-directory-organization">Test files and directory organization<a class="headerlink" href="#test-files-and-directory-organization" title="Permanent link">¶</a></h3>
<p>All test specs are located in <code>integration_tests/cypress/integration</code>. We recomend follow an structure by feature. </p>
<p>In <code>integration_tests/cypress/support</code> you can write reusable pieces of code for execute in all your tests with <a href="https://docs.cypress.io/api/cypress-api/custom-commands">commands</a>.</p>
<h3 id="test-results">Test Results<a class="headerlink" href="#test-results" title="Permanent link">¶</a></h3>
<p>Results after tests suite finished are stored in the following folders:</p>
<ul>
<li><code>integration_tests/cypress/screenshots</code>: Screenshots generated by cypress</li>
<li><code>integration_tests/cypress/videos</code>: Videos generated by cypress</li>
<li><code>integration_tests/cypress/results</code>: Allure formatted results</li>
</ul>
<h3 id="allure-integration-with-cypress">Allure Integration with Cypress<a class="headerlink" href="#allure-integration-with-cypress" title="Permanent link">¶</a></h3>
<p>Cypress test runner has installed an allure plugin which is used to generate tests results with allure format.</p>
<ul>
<li><a href="https://github.com/Shelex/cypress-allure-plugin">Documentation</a></li>
</ul>
</article>
</div>
</div>
</main>
<footer class="md-footer">
<nav aria-label="Footer" class="md-footer__inner md-grid">
<a class="md-footer__link md-footer__link--prev" href="../backend/" rel="prev">
<div class="md-footer__button md-icon">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"></path></svg>
</div>
<div class="md-footer__title">
<div class="md-ellipsis">
<span class="md-footer__direction">
                  Previous
                </span>
                Overview
              </div>
</div>
</a>
<a class="md-footer__link md-footer__link--next" href="../ci_pipeline/" rel="next">
<div class="md-footer__title">
<div class="md-ellipsis">
<span class="md-footer__direction">
                  Next
                </span>
                CI Pipeline
              </div>
</div>
<div class="md-footer__button md-icon">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4z"></path></svg>
</div>
</a>
</nav>
<div class="md-footer-meta md-typeset">
<div class="md-footer-meta__inner md-grid">
<div class="md-footer-copyright">
<div class="md-footer-copyright__highlight">
              Copyright Alex Mai, Jordan Hartley, Frinze Lapuz, Jake Yendell, Alex Hoffman, Liam Hovell
            </div>
 ... <a class="link--pdf-download" download href="../../pdf/document.pdf" title="PDF">download PDF</a></div>
<div class="md-footer-social">
<a class="md-footer-social__link" href="https://github.com/UWA-CITS3200-18-2021" rel="noopener" target="_blank" title="github.com">
<svg viewbox="0 0 496 512" xmlns="http://www.w3.org/2000/svg"><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"></path></svg>
</a>
</div>
</div>
</div>
</footer>
</div>
<div class="md-dialog" data-md-component="dialog">
<div class="md-dialog__inner md-typeset"></div>
</div>
<script id="__config" type="application/json">{"base": "../..", "features": ["navigation.instant", "navigation.tabs"], "translations": {"clipboard.copy": "Copy to clipboard", "clipboard.copied": "Copied to clipboard", "search.config.lang": "en", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.placeholder": "Search", "search.result.placeholder": "Type to start searching", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.term.missing": "Missing", "select.version.title": "Select version"}, "search": "../../assets/javascripts/workers/search.8397ff9e.min.js", "version": null}</script>
<script src="../../assets/javascripts/bundle.1e84347e.min.js"></script>
<script src="https://unpkg.com/mermaid@8.8.2/dist/mermaid.min.js"></script>
<script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
<script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
</body>
</html>